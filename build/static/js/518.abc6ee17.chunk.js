"use strict";(self.webpackChunknodetree_home=self.webpackChunknodetree_home||[]).push([[518],{518:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var r=n(43),o=n(453),i=n(66),l=n(505),s=n(579);const d={padding:"0.5rem 0.75rem",backgroundColor:"#fff",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer",fontSize:"0.9rem",minWidth:"40px"},c=()=>{const{isAuthenticated:e}=(0,i.A)(),[t,n]=(0,r.useState)(null),[c,a]=(0,r.useState)(!0),[u,p]=(0,r.useState)(!1),[g,m]=(0,r.useState)(""),x=(0,r.useRef)(null),h=(e,t)=>{if(!x.current)return;const n=(()=>{const e=window.getSelection();if(e&&e.rangeCount>0&&x.current){const t=e.getRangeAt(0),n=t.cloneRange();return n.selectNodeContents(x.current),n.setEnd(t.startContainer,t.startOffset),n.toString().length}return 0})();document.execCommand(e,!1,t),m(x.current.innerHTML),setTimeout(()=>{var e;(e=>{if(!x.current)return;const t=window.getSelection(),n=document.createRange();let r,o=0,i=[x.current],l=!1;for(;!l&&(r=i.pop());)if(r.nodeType===Node.TEXT_NODE){var s;const t=o+((null===(s=r.textContent)||void 0===s?void 0:s.length)||0);e>=o&&e<=t&&(n.setStart(r,e-o),n.setEnd(r,e-o),l=!0),o=t}else for(let e=r.childNodes.length-1;e>=0;e--)i.push(r.childNodes[e]);l&&(null===t||void 0===t||t.removeAllRanges(),null===t||void 0===t||t.addRange(n))})(n),null===(e=x.current)||void 0===e||e.focus()},0)};return(0,r.useEffect)(()=>{if(u&&x.current){const e=x.current;g!==e.innerHTML&&(e.innerHTML=g||"<p>\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694...</p>");const t=()=>{if(e){var t;!(null!==(t=e.textContent)&&void 0!==t&&t.trim())&&!g&&(e.innerHTML='<p style="color: #999; font-style: italic;">\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694...</p>')}},n=()=>{if(e&&e.innerHTML.includes("\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694...")){e.innerHTML="<p><br></p>";const t=document.createRange(),n=window.getSelection();t.setStart(e.firstChild,0),t.collapse(!0),null===n||void 0===n||n.removeAllRanges(),null===n||void 0===n||n.addRange(t)}},r=()=>{t()},o=t=>{if("Enter"===t.key){t.preventDefault();const n=window.getSelection();if(n&&n.rangeCount>0){const t=n.getRangeAt(0),r=document.createElement("p");r.innerHTML="<br>",t.deleteContents(),t.insertNode(r),t.setStart(r,0),t.setEnd(r,0),n.removeAllRanges(),n.addRange(t),m(e.innerHTML)}}};return e.addEventListener("focus",n),e.addEventListener("blur",r),e.addEventListener("keydown",o),t(),()=>{const t=e;t.removeEventListener("focus",n),t.removeEventListener("blur",r),t.removeEventListener("keydown",o)}}},[u,g]),(0,r.useEffect)(()=>{(async()=>{a(!0);try{const e=await l.w0.getAbout();e.success?(n(e.data),m(e.data.htmlContent||e.data.content||"")):console.error("About \ub370\uc774\ud130 \uac00\uc838\uc624\uae30 \uc2e4\ud328:",e.message)}catch(e){console.error("About \ub370\uc774\ud130 \uac00\uc838\uc624\uae30 \uc624\ub958:",e)}finally{a(!1)}})()},[]),c?(0,s.jsxs)("div",{className:"page-content",children:[(0,s.jsx)("div",{className:"page-header",children:(0,s.jsxs)("h1",{className:"page-title",children:["ABOUT",(0,s.jsx)(o.P.div,{className:"page-subtitle-container",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:1}}),(0,s.jsx)("div",{className:"page-subtitle",style:{position:"relative",top:"auto",left:"auto",transform:"none",marginTop:"0"},children:"\ub178\ub4dc \ud2b8\ub9ac(NODE TREE)"})]})}),(0,s.jsx)("div",{style:{textAlign:"center",padding:"2rem"},children:(0,s.jsx)("p",{children:"\ub85c\ub529 \uc911..."})})]}):(0,s.jsxs)("div",{className:"page-content",children:[(0,s.jsx)("div",{className:"page-header",children:(0,s.jsxs)("h1",{className:"page-title",children:["ABOUT",(0,s.jsx)(o.P.div,{className:"page-subtitle-container",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:1}}),(0,s.jsx)("div",{className:"page-subtitle",style:{position:"relative",top:"auto",left:"auto",transform:"none",marginTop:"0"},children:"\ub178\ub4dc \ud2b8\ub9ac(NODE TREE)"})]})}),e&&!u&&(0,s.jsx)("div",{className:"work-header",children:(0,s.jsx)(o.P.button,{className:"write-button",onClick:()=>{p(!0),m((null===t||void 0===t?void 0:t.htmlContent)||(null===t||void 0===t?void 0:t.content)||"")},whileHover:{scale:1.05},whileTap:{scale:.95},children:"\ub0b4\uc6a9 \ud3b8\uc9d1"})}),u?(0,s.jsxs)("div",{style:{maxWidth:"1000px",margin:"0 auto"},children:[(0,s.jsxs)("div",{style:{backgroundColor:"#f5f5f5",padding:"1rem",borderRadius:"8px 8px 0 0",border:"1px solid #ddd",display:"flex",flexWrap:"wrap",gap:"0.5rem",alignItems:"center"},children:[(0,s.jsx)("button",{onClick:()=>h("bold"),style:d,children:(0,s.jsx)("strong",{children:"B"})}),(0,s.jsx)("button",{onClick:()=>h("italic"),style:d,children:(0,s.jsx)("em",{children:"I"})}),(0,s.jsx)("button",{onClick:()=>h("underline"),style:d,children:(0,s.jsx)("u",{children:"U"})}),(0,s.jsx)("div",{style:{width:"1px",height:"20px",backgroundColor:"#ccc",margin:"0 0.5rem"}}),(0,s.jsx)("button",{onClick:()=>h("justifyLeft"),style:d,children:"\uc67c\ucabd"}),(0,s.jsx)("button",{onClick:()=>h("justifyCenter"),style:d,children:"\uc911\uc559"}),(0,s.jsx)("button",{onClick:()=>h("justifyRight"),style:d,children:"\uc624\ub978\ucabd"}),(0,s.jsx)("div",{style:{width:"1px",height:"20px",backgroundColor:"#ccc",margin:"0 0.5rem"}}),(0,s.jsxs)("select",{onChange:e=>h("formatBlock",e.target.value),style:{padding:"0.25rem",borderRadius:"4px",border:"1px solid #ccc"},children:[(0,s.jsx)("option",{value:"",children:"\ud14d\uc2a4\ud2b8 \ud06c\uae30"}),(0,s.jsx)("option",{value:"h1",children:"\uc81c\ubaa9 1"}),(0,s.jsx)("option",{value:"h2",children:"\uc81c\ubaa9 2"}),(0,s.jsx)("option",{value:"h3",children:"\uc81c\ubaa9 3"}),(0,s.jsx)("option",{value:"p",children:"\ubcf8\ubb38"})]}),(0,s.jsxs)("select",{onChange:e=>h("fontSize",e.target.value),style:{padding:"0.25rem",borderRadius:"4px",border:"1px solid #ccc"},children:[(0,s.jsx)("option",{value:"",children:"\uae00\uaf34 \ud06c\uae30"}),(0,s.jsx)("option",{value:"1",children:"\ub9e4\uc6b0 \uc791\uac8c"}),(0,s.jsx)("option",{value:"2",children:"\uc791\uac8c"}),(0,s.jsx)("option",{value:"3",children:"\ubcf4\ud1b5"}),(0,s.jsx)("option",{value:"4",children:"\ud06c\uac8c"}),(0,s.jsx)("option",{value:"5",children:"\ub9e4\uc6b0 \ud06c\uac8c"}),(0,s.jsx)("option",{value:"6",children:"\uac70\ub300\ud558\uac8c"}),(0,s.jsx)("option",{value:"7",children:"\ucd5c\ub300"})]}),(0,s.jsx)("div",{style:{width:"1px",height:"20px",backgroundColor:"#ccc",margin:"0 0.5rem"}}),(0,s.jsx)("button",{onClick:()=>{const e=prompt("\uc774\ubbf8\uc9c0 URL\uc744 \uc785\ub825\ud558\uc138\uc694:");if(e&&x.current){const t=window.getSelection();let n;t&&t.rangeCount>0?n=t.getRangeAt(0):(n=document.createRange(),n.selectNodeContents(x.current),n.collapse(!1));const r=document.createElement("img");r.src=e,r.alt="\uc0bd\uc785\ub41c \uc774\ubbf8\uc9c0",r.style.cssText="max-width: 100%; height: auto; margin: 10px auto; border-radius: 8px; display: block;";const o=document.createElement("p");o.style.textAlign="center",o.appendChild(r);const i=document.createElement("p");i.innerHTML="<br>",n.deleteContents(),n.insertNode(i),n.insertNode(o),n.setStart(i,0),n.setEnd(i,0),null===t||void 0===t||t.removeAllRanges(),null===t||void 0===t||t.addRange(n),m(x.current.innerHTML),setTimeout(()=>{if(x.current){x.current.focus();const e=document.createRange(),t=window.getSelection();e.setStart(i,0),e.setEnd(i,0),null===t||void 0===t||t.removeAllRanges(),null===t||void 0===t||t.addRange(e)}},10)}},style:d,children:"\ud83d\uddbc\ufe0f \uc774\ubbf8\uc9c0"}),(0,s.jsx)("button",{onClick:()=>{const e=prompt("\uc774\ubbf8\uc9c0 URL\ub4e4\uc744 \uc27c\ud45c\ub85c \uad6c\ubd84\ud558\uc5ec \uc785\ub825\ud558\uc138\uc694:");if(e&&x.current){const t=e.split(",").map(e=>e.trim()).filter(e=>e),n=window.getSelection();let r;n&&n.rangeCount>0?r=n.getRangeAt(0):(r=document.createRange(),r.selectNodeContents(x.current),r.collapse(!1));const o=document.createElement("div");o.style.cssText="display: flex; flex-wrap: wrap; gap: 10px; margin: 20px auto; justify-content: center; max-width: 100%;";const i=document.createElement("p");i.style.textAlign="center",i.appendChild(o),t.forEach(e=>{const t=document.createElement("img");t.src=e,t.alt="\uac24\ub7ec\ub9ac \uc774\ubbf8\uc9c0",t.style.cssText="flex: 1; min-width: 200px; max-width: 300px; height: auto; border-radius: 8px; object-fit: cover;",o.appendChild(t)});const l=document.createElement("p");l.innerHTML="<br>",r.deleteContents(),r.insertNode(l),r.insertNode(i),r.setStart(l,0),r.setEnd(l,0),null===n||void 0===n||n.removeAllRanges(),null===n||void 0===n||n.addRange(r),m(x.current.innerHTML),setTimeout(()=>{if(x.current){x.current.focus();const e=document.createRange(),t=window.getSelection();e.setStart(l,0),e.setEnd(l,0),null===t||void 0===t||t.removeAllRanges(),null===t||void 0===t||t.addRange(e)}},10)}},style:d,children:"\ud83d\uddbc\ufe0f \uac24\ub7ec\ub9ac"})]}),(0,s.jsx)("div",{ref:x,contentEditable:!0,suppressContentEditableWarning:!0,onInput:e=>{const t=e.target;m(t.innerHTML)},onBlur:e=>{const t=e.target;m(t.innerHTML)},style:{minHeight:"400px",padding:"2rem",border:"1px solid #ddd",borderTop:"none",borderRadius:"0 0 8px 8px",backgroundColor:"#fff",outline:"none",lineHeight:"1.6",fontSize:"1rem",textAlign:"center"}}),(0,s.jsxs)("div",{style:{textAlign:"center",marginTop:"1rem",display:"flex",gap:"1rem",justifyContent:"center"},children:[(0,s.jsx)("button",{onClick:()=>{p(!1),m((null===t||void 0===t?void 0:t.htmlContent)||(null===t||void 0===t?void 0:t.content)||"")},style:{padding:"0.75rem 1.5rem",backgroundColor:"#f0f0f0",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer"},children:"\ucde8\uc18c"}),(0,s.jsx)("button",{onClick:async()=>{if(e)try{const e=await l.w0.updateAbout({htmlContent:g});e.success?(alert("\ub0b4\uc6a9\uc774 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),n(e.data),p(!1)):alert(e.message||"\uc800\uc7a5\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}catch(t){console.error("About \uc800\uc7a5 \uc624\ub958:",t),alert("\uc800\uc7a5 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}else alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.")},style:{padding:"0.75rem 1.5rem",backgroundColor:"#000",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer"},children:"\uc800\uc7a5"})]})]}):(0,s.jsx)("div",{style:{maxWidth:"1000px",margin:"0 auto",textAlign:"center",lineHeight:"1.8",fontSize:"1.1rem"},children:null!==t&&void 0!==t&&t.htmlContent?(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:t.htmlContent},style:{textAlign:"center"}}):(0,s.jsxs)("div",{style:{textAlign:"center"},children:[(0,s.jsx)("h2",{children:"NODE TREE"}),(0,s.jsx)("p",{children:(null===t||void 0===t?void 0:t.content)||"About \ub0b4\uc6a9\uc744 \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."})]})})]})}}}]);
//# sourceMappingURL=518.abc6ee17.chunk.js.map