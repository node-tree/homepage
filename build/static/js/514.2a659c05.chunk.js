"use strict";(self.webpackChunknodetree_home=self.webpackChunknodetree_home||[]).push([[514],{514:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var a=t(43),i=t(453),l=t(505),n=t(578),c=t(66),o=t(579);const r=e=>{let{onPostsLoaded:s}=e;const{isAuthenticated:t}=(0,c.A)(),[r,d]=(0,a.useState)([]),[h,m]=(0,a.useState)(!0),[p,u]=(0,a.useState)(null),[x,j]=(0,a.useState)(!1),[v,g]=(0,a.useState)(null),[b,y]=(0,a.useState)(null),N=(0,a.useCallback)(async()=>{m(!0),u(null);try{const e=await l.s1.getAllPosts();e.success?(d(e.data),s&&s(e.data.length)):u(e.message)}catch(e){u("\uae00\uc744 \ubd88\ub7ec\uc624\ub294\ub370 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."),console.error("Work \ub85c\ub529 \uc624\ub958:",e)}finally{m(!1)}},[s]);(0,a.useEffect)(()=>{N()},[N]);const w=e=>{j(!1),N()},f=()=>{g(null)};return x?(0,o.jsx)(n.A,{onSavePost:w,onBackToWork:()=>j(!1),postType:"work"}):b?(0,o.jsx)(n.A,{onSavePost:e=>{y(null),N()},onBackToWork:()=>y(null),postType:"work",editPost:b}):v?(0,o.jsx)("div",{className:"page-content",children:(0,o.jsxs)("div",{className:"post-detail-container",children:[(0,o.jsxs)("div",{className:"post-detail-header",children:[(0,o.jsx)(i.P.button,{className:"back-button",onClick:f,whileHover:{scale:1.05},whileTap:{scale:.95},children:"\u2190 \ubaa9\ub85d\uc73c\ub85c"}),t&&(0,o.jsxs)("div",{className:"post-actions",children:[(0,o.jsx)(i.P.button,{className:"edit-button",onClick:()=>(y(v),void g(null)),whileHover:{scale:1.05},whileTap:{scale:.95},children:"\uc218\uc815"}),(0,o.jsx)(i.P.button,{className:"delete-button",onClick:()=>(async e=>{if(window.confirm('"'.concat(e.title,'" \uae30\ub85d\uc744 \uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?')))try{const s=await l.s1.deletePost(e.id);s.success&&(alert(s.message),g(null),N())}catch(s){console.error("\uae30\ub85d \uc0ad\uc81c \uc624\ub958:",s),alert(s instanceof Error?s.message:"\uae30\ub85d \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}})(v),whileHover:{scale:1.05},whileTap:{scale:.95},children:"\uc0ad\uc81c"})]})]}),(0,o.jsxs)("article",{className:"post-article",children:[(0,o.jsxs)("header",{className:"post-header",children:[(0,o.jsx)("h1",{className:"post-title",children:v.title}),(0,o.jsx)("div",{className:"post-meta",children:(0,o.jsx)("span",{className:"post-date",children:v.date})})]}),(0,o.jsx)("div",{className:"post-content",children:(0,o.jsx)("div",{className:"post-text",children:(k=v.content,k.split("\n").map((e,s)=>{let t=0;const i=[];return e.replace(/(!{1,2})\[([^\]]*)\]\(([^)]+)\)/g,(a,l,n,c,r)=>{if(i.push(e.substring(t,r)),"!!"===l){let e;if(c.includes("youtube.com")||c.includes("youtu.be")){const s=c.match(/(?:v=|vi\/|embed\/|\.be\/|youtu\.be\/)([a-zA-Z0-9_-]{11})/),t=s?s[1]:null;t&&(e=(0,o.jsx)("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden",maxWidth:"100%",background:"#000"},children:(0,o.jsx)("iframe",{src:"https://www.youtube.com/embed/".concat(t),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:n||"YouTube video player"})}))}else if(c.includes("vimeo.com")){const s=c.match(/vimeo\.com\/(?:video\/)?(\d+)/),t=s?s[1]:null;t&&(e=(0,o.jsx)("div",{style:{position:"relative",paddingBottom:"56.25%",height:0,overflow:"hidden",maxWidth:"100%",background:"#000"},children:(0,o.jsx)("iframe",{src:"https://player.vimeo.com/video/".concat(t),style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},frameBorder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowFullScreen:!0,title:n||"Vimeo video player"})}))}else e=(0,o.jsx)("video",{src:c,controls:!0,style:{maxWidth:"100%",borderRadius:"8px"},title:n});e?i.push((0,o.jsx)("div",{style:{margin:"20px 0"},children:e},"".concat(s,"-").concat(r))):i.push(a)}else"!"===l&&i.push((0,o.jsx)("div",{style:{textAlign:"center",margin:"20px 0"},children:(0,o.jsx)("img",{src:c,alt:n||"\uc774\ubbf8\uc9c0",style:{maxWidth:"100%",height:"auto",borderRadius:"8px"}})},"".concat(s,"-").concat(r)));return t=r+a.length,a}),i.push(e.substring(t)),(0,o.jsxs)(a.Fragment,{children:[i.map((e,s)=>(0,o.jsx)(a.Fragment,{children:e},s)),s<k.split("\n").length-1&&(0,o.jsx)("br",{})]},s)}))})})]})]})}):(0,o.jsx)("div",{className:"page-content",children:(0,o.jsxs)("div",{className:"page-header",children:[(0,o.jsxs)("h1",{className:"page-title",children:["ART WORK",(0,o.jsx)(i.P.div,{className:"page-subtitle-container",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6,duration:1}}),(0,o.jsxs)("div",{className:"page-subtitle",style:{position:"relative",top:"auto",left:"auto",transform:"none",marginTop:"0"},children:["\uc18c\ub9ac\xb7\uae30\uc5b5\xb7\uad00\uacc4\ub85c \uc774\ub8e8\uc5b4\uc9c4 \uac10\uac01\uc801 \uc790\uc0b0",(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),"NODE TREE\ub294 \uc608\uc220\uc744 \uac1c\uc778\uc758 \uc18c\uc720\uac00 \uc544\ub2cc, \uad00\uacc4\uc640 \uac10\uc751 \uc18d\uc5d0\uc11c \ud568\uaed8 \ub9cc\ub4e4\uc5b4\uac00\ub294 \uacf5\uacf5\uc758 \uc7a5\uc73c\ub85c   ",(0,o.jsx)("br",{}),"\uc2e4\ucc9c\ud55c\ub2e4. \uc774 \uce74\ud14c\uace0\ub9ac\ub294 \ub9c8\uc744 \uc8fc\ubbfc\xb7\ub18d\ubd80\xb7\uccad\uc18c\ub144 \ub4f1 \ub2e4\uc591\ud55c \uc874\uc7ac\uac00 \uc608\uc220\uc758 \uc8fc\uccb4\ub85c \ucc38\uc5ec\ud574 \uad6c\ucd95\ud574 \uc628  ",(0,o.jsx)("br",{}),"\ucc3d\uc791 \ucee4\uba3c\uc988\uc758 \uae30\ub85d\uc774\ub2e4."]})]}),(0,o.jsxs)("div",{className:"work-container",children:[(0,o.jsx)("div",{className:"work-header",children:t&&(0,o.jsx)(i.P.button,{className:"write-button",onClick:()=>j(!0),initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},whileHover:{scale:1.05},whileTap:{scale:.95},children:"\uc0c8 \uae00 \uc791\uc131"})}),h&&(0,o.jsxs)("div",{className:"loading-container",children:[(0,o.jsx)(i.P.div,{className:"loading-spinner",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:"\u27f3"}),(0,o.jsx)("p",{children:"\uae30\ub85d\uc744 \ubd88\ub7ec\uc624\ub294 \uc911..."})]}),p&&(0,o.jsxs)("div",{className:"error-container",children:[(0,o.jsxs)("p",{className:"error-message",children:["\uc624\ub958: ",p]}),(0,o.jsx)(i.P.button,{className:"retry-button",onClick:N,whileHover:{scale:1.05},whileTap:{scale:.95},children:"\ub2e4\uc2dc \uc2dc\ub3c4"})]}),!h&&!p&&0===r.length&&(0,o.jsxs)(i.P.div,{className:"empty-state",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[(0,o.jsx)("p",{children:"\uc544\uc9c1 \uae30\ub85d\ub41c \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,o.jsx)("p",{children:"\uc0c8 \uae30\ub85d\uc744 \uc791\uc131\ud574\ubcf4\uc138\uc694!"})]}),!h&&!p&&r.length>0&&(0,o.jsx)("div",{className:"posts-grid",children:r.map((e,s)=>(0,o.jsxs)("div",{className:"post-grid-item",children:[(0,o.jsx)("div",{className:"post-grid-thumbnail",onClick:()=>(e=>{g(e)})(e),children:e.thumbnail?(0,o.jsx)("img",{src:e.thumbnail,alt:e.title}):(0,o.jsx)("div",{className:"post-grid-no-image",children:"\uc774\ubbf8\uc9c0 \uc5c6\uc74c"})}),(0,o.jsx)("div",{className:"post-grid-content",children:(0,o.jsx)("h3",{className:"post-grid-title",children:e.title})})]},s))})]})]})});var k}}}]);
//# sourceMappingURL=514.2a659c05.chunk.js.map